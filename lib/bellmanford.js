function Edge(src, dest, weight) {
  this.src = src;
  this.dest = dest;
  this.weight = weight;
}

function Graph(N) {
  this.N = N;
  this.edges = [];
}

Graph.prototype.addEdge = function(edge) {
  this.edges.push(edge);
}

Graph.prototype.findNegativeCycle = function (src) {
  this.edges = [{"src":0,"dest":1,"weight":0.0007998137190573105},{"src":1,"dest":0,"weight":1250.2911317633266},{"src":0,"dest":2,"weight":0.00003250606329330313},{"src":2,"dest":0,"weight":30763.491443949137},{"src":1,"dest":2,"weight":0.04241258640031513},{"src":2,"dest":1,"weight":23.577906580876892},{"src":3,"dest":1,"weight":23.569094557899003},{"src":1,"dest":3,"weight":0.04242844363594178},{"src":3,"dest":1,"weight":23.58503168389504},{"src":1,"dest":3,"weight":0.04239977344117145},{"src":0,"dest":3,"weight":0.00003394163380065943},{"src":3,"dest":0,"weight":29462.341320192183},{"src":4,"dest":1,"weight":82.91629003284861},{"src":1,"dest":4,"weight":0.012060356289503959},{"src":4,"dest":3,"weight":3.531959148008492},{"src":3,"dest":4,"weight":0.2831289825545841},{"src":1,"dest":5,"weight":2.0937926893896166},{"src":5,"dest":1,"weight":0.4776022024852519},{"src":6,"dest":5,"weight":49.7792687938513},{"src":5,"dest":6,"weight":0.02008868398893636},{"src":6,"dest":1,"weight":23.743633982881},{"src":1,"dest":6,"weight":0.04211655219756981},{"src":3,"dest":2,"weight":1.0002182585530814},{"src":2,"dest":3,"weight":0.9997817890733196},{"src":4,"dest":2,"weight":3.5369626086183548},{"src":2,"dest":4,"weight":0.2827284624280013},{"src":1,"dest":7,"weight":0.00005273086937759094},{"src":7,"dest":1,"weight":18964.223647429004},{"src":5,"dest":7,"weight":0.000027003696874797596},{"src":7,"dest":5,"weight":37031.96657244714},{"src":4,"dest":1,"weight":83.21098876936829},{"src":1,"dest":4,"weight":0.012017643520276507},{"src":8,"dest":1,"weight":1809.2035044836498},{"src":1,"dest":8,"weight":0.0005527294179575459},{"src":8,"dest":1,"weight":1806.8517382359976},{"src":1,"dest":8,"weight":0.0005534488407866187},{"src":9,"dest":1,"weight":0.0651703841149073},{"src":1,"dest":9,"weight":15.34439321758204},{"src":9,"dest":1,"weight":0.06491546045660004},{"src":1,"dest":9,"weight":15.40465080223164},{"src":10,"dest":1,"weight":0.013520415875423457},{"src":1,"dest":10,"weight":73.96222196225011},{"src":10,"dest":1,"weight":0.013526981195215405},{"src":1,"dest":10,"weight":73.92632440072494},{"src":11,"dest":1,"weight":22.2789664057321},{"src":1,"dest":11,"weight":0.04488538569467534},{"src":11,"dest":1,"weight":21.792320041485766},{"src":1,"dest":11,"weight":0.045887725496703086},{"src":12,"dest":1,"weight":11991.863772984523},{"src":1,"dest":12,"weight":0.0000833898732449594},{"src":12,"dest":1,"weight":11849.131677560217},{"src":1,"dest":12,"weight":0.00008439436974894888},{"src":13,"dest":1,"weight":133073.81802991978},{"src":1,"dest":13,"weight":0.000007514626203744782},{"src":0,"dest":1,"weight":0.0007997964445895044},{"src":1,"dest":0,"weight":1250.31813627685},{"src":1,"dest":14,"weight":0.042201610511206376},{"src":14,"dest":1,"weight":23.695778144164812},{"src":1,"dest":14,"weight":0.042287731330859626},{"src":14,"dest":1,"weight":23.647520652644854},{"src":1,"dest":2,"weight":0.04239687210661861},{"src":2,"dest":1,"weight":23.586645672473775},{"src":10,"dest":2,"weight":0.0005524143105486371},{"src":2,"dest":10,"weight":1810.2355078506885},{"src":3,"dest":15,"weight":0.9991096865549036},{"src":15,"dest":3,"weight":1.00089110680947},{"src":1,"dest":15,"weight":0.042446373136063496},{"src":15,"dest":1,"weight":23.55913888789653},{"src":1,"dest":5,"weight":2.0792046428019457},{"src":5,"dest":1,"weight":0.4809531392024959},{"src":16,"dest":3,"weight":0.13508111951318869},{"src":3,"dest":16,"weight":7.402959078247533},{"src":16,"dest":1,"weight":3.167455148009176},{"src":1,"dest":16,"weight":0.3157108635393069},{"src":17,"dest":1,"weight":2338368.7900973056},{"src":1,"dest":17,"weight":4.2764854039913325e-7},{"src":17,"dest":10,"weight":170657255.92208603},{"src":10,"dest":17,"weight":5.859698110091214e-9},{"src":18,"dest":1,"weight":0.08264601502440645},{"src":1,"dest":18,"weight":12.0997969436843},{"src":18,"dest":1,"weight":0.08232552449301504},{"src":1,"dest":18,"weight":12.146901051141747},{"src":19,"dest":2,"weight":480.41531241684544},{"src":2,"dest":19,"weight":0.002081532320377671},{"src":19,"dest":1,"weight":11607.375127787198},{"src":1,"dest":19,"weight":0.00008615212216292329},{"src":1,"dest":20,"weight":0.016050329071012493},{"src":20,"dest":1,"weight":62.30401853916118},{"src":3,"dest":20,"weight":0.38842553138936264},{"src":20,"dest":3,"weight":2.574496059574383},{"src":21,"dest":1,"weight":49121.568398283445},{"src":1,"dest":21,"weight":0.0000203576561703381},{"src":9,"dest":21,"weight":0.0000012671113439438192},{"src":21,"dest":9,"weight":789196.6280465545},{"src":16,"dest":22,"weight":0.005138150694912528},{"src":22,"dest":16,"weight":194.62255184343596},{"src":1,"dest":22,"weight":0.0016135673898557761},{"src":22,"dest":1,"weight":619.7448004259568},{"src":23,"dest":1,"weight":484.05228314150963},{"src":1,"dest":23,"weight":0.0020658925385290587},{"src":23,"dest":1,"weight":485.7368859284142},{"src":1,"dest":23,"weight":0.0020587277371135774},{"src":16,"dest":2,"weight":0.13649824912787248},{"src":2,"dest":16,"weight":7.32610129719095},{"src":24,"dest":2,"weight":1302.6435056825428},{"src":2,"dest":24,"weight":0.0007676697389866712},{"src":24,"dest":1,"weight":30618.944871354262},{"src":1,"dest":24,"weight":0.00003265951861507664},{"src":3,"dest":2,"weight":0.9994876231311823},{"src":2,"dest":3,"weight":1.0005126395334567},{"src":1,"dest":15,"weight":0.04246556748661342},{"src":15,"dest":1,"weight":23.548490204804956},{"src":1,"dest":22,"weight":0.0016046712075490667},{"src":22,"dest":1,"weight":623.1806212360314},{"src":2,"dest":22,"weight":0.03801101619736794},{"src":22,"dest":2,"weight":26.308162739128363},{"src":4,"dest":1,"weight":82.77789636121699},{"src":1,"dest":4,"weight":0.01208051960678381},{"src":10,"dest":3,"weight":0.0005706596900456407},{"src":3,"dest":10,"weight":1752.3578718518231},{"src":25,"dest":15,"weight":18.456150334582453},{"src":15,"dest":25,"weight":0.0541824801961131},{"src":25,"dest":1,"weight":431.88981566004355},{"src":1,"dest":25,"weight":0.0023154053736408014},{"src":26,"dest":15,"weight":0.9813602677507287},{"src":15,"dest":26,"weight":1.018993771056162},{"src":26,"dest":2,"weight":0.9987726998153389},{"src":2,"dest":26,"weight":1.001228808301316},{"src":1,"dest":2,"weight":0.04246362445950162},{"src":2,"dest":1,"weight":23.549567723634127},{"src":1,"dest":27,"weight":0.022052339201549524},{"src":27,"dest":1,"weight":45.34666326598742},{"src":28,"dest":27,"weight":29.301742070181714},{"src":27,"dest":28,"weight":0.03412766372746242},{"src":28,"dest":1,"weight":1311.2588286742255},{"src":1,"dest":28,"weight":0.0007626259424396556},{"src":17,"dest":3,"weight":97624.54400729547},{"src":3,"dest":17,"weight":0.000010243325694051591},{"src":25,"dest":1,"weight":432.7188000583438},{"src":1,"dest":25,"weight":0.0023109696178330343},{"src":1,"dest":29,"weight":0.23372029798304916},{"src":29,"dest":1,"weight":4.27861853946689},{"src":29,"dest":14,"weight":0.14215377198728124},{"src":14,"dest":29,"weight":7.03463570484413},{"src":30,"dest":1,"weight":15516.931310680899},{"src":1,"dest":30,"weight":0.00006444573221199101},{"src":30,"dest":25,"weight":35.56300083117064},{"src":25,"dest":30,"weight":0.02811911190361386},{"src":1,"dest":27,"weight":0.02244325414819786},{"src":27,"dest":1,"weight":44.55681842734458},{"src":1,"dest":27,"weight":0.022103083176860765},{"src":27,"dest":1,"weight":45.24255697715865},{"src":15,"dest":27,"weight":0.5201754961112232},{"src":27,"dest":15,"weight":1.9224281179638292},{"src":2,"dest":27,"weight":0.5196803099541236},{"src":27,"dest":2,"weight":1.9242599360523742},{"src":31,"dest":1,"weight":732818.7144784688},{"src":1,"dest":31,"weight":0.0000013645939715277035},{"src":31,"dest":1,"weight":707979.4199731572},{"src":1,"dest":31,"weight":0.0000014124704359879763},{"src":3,"dest":1,"weight":9432.311075808277},{"src":1,"dest":3,"weight":0.000106018556},{"src":8,"dest":1,"weight":1843.2760262119625},{"src":1,"dest":8,"weight":0.0005425123452915823},{"src":1,"dest":32,"weight":0.03426414610379731},{"src":32,"dest":1,"weight":29.18502614863574},{"src":1,"dest":32,"weight":0.03429872106238429},{"src":32,"dest":1,"weight":29.15560607000909},{"src":24,"dest":15,"weight":1302.1857321643754},{"src":15,"dest":24,"weight":0.0007679396074612877},{"src":2,"dest":15,"weight":1.0006230158060383},{"src":15,"dest":2,"weight":0.999377372100984},{"src":24,"dest":1,"weight":30352.134143048017},{"src":1,"dest":24,"weight":0.00003294661242886752},{"src":16,"dest":1,"weight":3.166732279049483},{"src":1,"dest":16,"weight":0.3157829307566717},{"src":2,"dest":15,"weight":1.0012831170679592},{"src":15,"dest":2,"weight":0.9987185272116477},{"src":15,"dest":22,"weight":0.03849183606412095},{"src":22,"dest":15,"weight":25.979534941751478},{"src":1,"dest":33,"weight":0.0013808366614109834},{"src":33,"dest":1,"weight":724.1986166402678},{"src":33,"dest":22,"weight":1.1721623378411987},{"src":22,"dest":33,"weight":0.8531241515929658},{"src":34,"dest":1,"weight":15.97446859610727},{"src":1,"dest":34,"weight":0.06259989144450692},{"src":34,"dest":22,"weight":0.02546573263600965},{"src":22,"dest":34,"weight":39.26845594011918},{"src":25,"dest":22,"weight":0.6979044567375895},{"src":22,"dest":25,"weight":1.432860888544229},{"src":25,"dest":8,"weight":0.2361109055893048},{"src":8,"dest":25,"weight":4.235297804242115},{"src":35,"dest":1,"weight":0.23800510703667727},{"src":1,"dest":35,"weight":4.201590513962783},{"src":35,"dest":1,"weight":0.23904451007591682},{"src":1,"dest":35,"weight":4.183321339119713},{"src":9,"dest":1,"weight":0.06494106767368117},{"src":1,"dest":9,"weight":15.398576522099166},{"src":36,"dest":1,"weight":4013.204628396799},{"src":1,"dest":36,"weight":0.0002491774261706365},{"src":36,"dest":1,"weight":4023.1748106676732},{"src":1,"dest":36,"weight":0.000248559917741691},{"src":28,"dest":2,"weight":54.96188033041555},{"src":2,"dest":28,"weight":0.01819442846547967},{"src":37,"dest":3,"weight":603.4734783424882},{"src":3,"dest":37,"weight":0.0016570736509359436},{"src":37,"dest":1,"weight":11573.862719334973},{"src":1,"dest":37,"weight":0.00008640157778348519},{"src":1,"dest":2,"weight":0.042405915205664994},{"src":2,"dest":1,"weight":23.581615799354573},{"src":16,"dest":25,"weight":0.0075831426878023465},{"src":25,"dest":16,"weight":131.87144712554627},{"src":25,"dest":2,"weight":18.365532052642962},{"src":2,"dest":25,"weight":0.054449824657058665},{"src":24,"dest":22,"weight":49.84857900374327},{"src":22,"dest":24,"weight":0.02006075238222753},{"src":38,"dest":1,"weight":2621596707.9884114},{"src":1,"dest":38,"weight":3.8144692391199803e-10},{"src":38,"dest":1,"weight":2609884484.991102},{"src":1,"dest":38,"weight":3.831587205298894e-10},{"src":31,"dest":1,"weight":751687.5127761583},{"src":1,"dest":31,"weight":0.000001330340045568624},{"src":39,"dest":22,"weight":0.2127311787245608},{"src":22,"dest":39,"weight":4.700768387575081},{"src":39,"dest":1,"weight":133.14969474266428},{"src":1,"dest":39,"weight":0.007510343917293086},{"src":16,"dest":1,"weight":3.1760738970028695},{"src":1,"dest":16,"weight":0.31485413514580346},{"src":3,"dest":27,"weight":0.5397068058980816},{"src":27,"dest":3,"weight":1.8528578648104732},{"src":40,"dest":1,"weight":62885845.41694311},{"src":1,"dest":40,"weight":1.590182963065602e-8},{"src":40,"dest":1,"weight":62292564.34740405},{"src":1,"dest":40,"weight":1.6053280363014523e-8},{"src":40,"dest":1,"weight":63182826.6041088},{"src":1,"dest":40,"weight":1.5827085519073146e-8},{"src":0,"dest":25,"weight":0.000001910837092409657},{"src":25,"dest":0,"weight":523330.8501139425},{"src":25,"dest":28,"weight":0.3261643768299674},{"src":28,"dest":25,"weight":3.0659387445040003},{"src":41,"dest":1,"weight":39.326216086345305},{"src":1,"dest":41,"weight":0.025428329992501265},{"src":41,"dest":1,"weight":39.43445035108527},{"src":1,"dest":41,"weight":0.025358537803798226},{"src":42,"dest":1,"weight":40184.39416975541},{"src":1,"dest":42,"weight":0.000024885282474972466},{"src":10,"dest":1,"weight":0.023217740735228455},{"src":1,"dest":10,"weight":43.070512820512825},{"src":39,"dest":1,"weight":133.49319668025618},{"src":1,"dest":39,"weight":0.007491018455383961},{"src":43,"dest":1,"weight":55801.07241761132},{"src":1,"dest":43,"weight":0.000017920802534332495},{"src":43,"dest":2,"weight":2370.9914942587943},{"src":2,"dest":43,"weight":0.00042176448225201847},{"src":25,"dest":33,"weight":0.611680172174829},{"src":33,"dest":25,"weight":1.6348412871460258},{"src":10,"dest":25,"weight":0.00003137460361058899},{"src":25,"dest":10,"weight":31872.91264016155},{"src":44,"dest":1,"weight":29969.49072109804},{"src":1,"dest":44,"weight":0.00003336726704187923},{"src":6,"dest":1,"weight":23.51525323196293},{"src":1,"dest":6,"weight":0.04252558924778057},{"src":10,"dest":1,"weight":0.013549186261890878},{"src":1,"dest":10,"weight":73.80517033798924},{"src":1,"dest":45,"weight":0.04261635076113334},{"src":45,"dest":1,"weight":23.465171985397042},{"src":46,"dest":1,"weight":0.0008251299768882146},{"src":1,"dest":46,"weight":1211.9302752413225},{"src":46,"dest":25,"weight":0.0000018878182532575268},{"src":25,"dest":46,"weight":529712.0092331182},{"src":21,"dest":3,"weight":2087.226540996335},{"src":3,"dest":21,"weight":0.00047910467807804467},{"src":10,"dest":24,"weight":4.4746628358603064e-7},{"src":24,"dest":10,"weight":2234805.2505451804},{"src":0,"dest":27,"weight":0.000019232099443499315},{"src":27,"dest":0,"weight":51996.40335356171},{"src":37,"dest":1,"weight":11208.735587795392},{"src":1,"dest":37,"weight":0.00008921612898861205},{"src":47,"dest":1,"weight":25608.39176130676},{"src":1,"dest":47,"weight":0.00003904969938451814},{"src":47,"dest":48,"weight":0.4540083444381331},{"src":48,"dest":47,"weight":2.2026026883659364},{"src":48,"dest":1,"weight":49518.61031180539},{"src":1,"dest":48,"weight":0.000020194427785902483},{"src":25,"dest":32,"weight":14.379495595362819},{"src":32,"dest":25,"weight":0.06954346857079505},{"src":3,"dest":1,"weight":23.310437634227075},{"src":1,"dest":3,"weight":0.04289923748714544},{"src":25,"dest":1,"weight":411.0411790466604},{"src":1,"dest":25,"weight":0.0024328462718001364},{"src":10,"dest":3,"weight":0.0005731402279048232},{"src":3,"dest":10,"weight":1744.7737068738122},{"src":1,"dest":45,"weight":0.042111910316570834},{"src":45,"dest":1,"weight":23.74625117888572},{"src":1,"dest":32,"weight":0.03405350126371232},{"src":32,"dest":1,"weight":29.365556048288283},{"src":49,"dest":1,"weight":2856.7404641777603},{"src":1,"dest":49,"weight":0.0003500493000815264},{"src":49,"dest":1,"weight":2845.5475566246996},{"src":1,"dest":49,"weight":0.00035142621238991664},{"src":21,"dest":2,"weight":2094.160080640448},{"src":2,"dest":21,"weight":0.0004775184138235384},{"src":0,"dest":1,"weight":0.0007989333482350148},{"src":1,"dest":0,"weight":1251.6688685097163},{"src":50,"dest":1,"weight":22.803238122224855},{"src":1,"dest":50,"weight":0.04385342093258957},{"src":50,"dest":10,"weight":1669.5216174988154},{"src":10,"dest":50,"weight":0.0005989739752505537},{"src":9,"dest":4,"weight":0.001044813827363713},{"src":4,"dest":9,"weight":957.1083132802828},{"src":1,"dest":7,"weight":0.00005278770746105389},{"src":7,"dest":1,"weight":18943.804307807597},{"src":1,"dest":32,"weight":0.03337469937904868},{"src":32,"dest":1,"weight":29.962816702635543},{"src":1,"dest":45,"weight":0.04194583516890832},{"src":45,"dest":1,"weight":23.84026914646425},{"src":24,"dest":45,"weight":1275.4883166240631},{"src":45,"dest":24,"weight":0.0007840134534879786},{"src":23,"dest":28,"weight":0.3739921190874509},{"src":28,"dest":23,"weight":2.673853134766642},{"src":49,"dest":1,"weight":2865.2004217374174},{"src":1,"dest":49,"weight":0.0003490157241403776},{"src":25,"dest":4,"weight":5.27534630162753},{"src":4,"dest":25,"weight":0.1895610151112703},{"src":3,"dest":2,"weight":1.002297190857182},{"src":2,"dest":3,"weight":0.9977080741339628},{"src":47,"dest":1,"weight":25721.22929441764},{"src":1,"dest":47,"weight":0.00003887839063030449},{"src":21,"dest":41,"weight":1366.416930797399},{"src":41,"dest":21,"weight":0.0007318410489955147},{"src":4,"dest":27,"weight":1.8135335703087663},{"src":27,"dest":4,"weight":0.5514096989281225},{"src":1,"dest":51,"weight":4.681029148112009e-9},{"src":51,"dest":1,"weight":213628236.0906315},{"src":1,"dest":51,"weight":2.4268575503046226e-9},{"src":51,"dest":1,"weight":412055499.4562737},{"src":1,"dest":52,"weight":0.000012762102096273255},{"src":52,"dest":1,"weight":78356.99733917789},{"src":1,"dest":52,"weight":0.000012708839194537518},{"src":52,"dest":1,"weight":78685.3924809921},{"src":1,"dest":52,"weight":0.000012642462937763783},{"src":52,"dest":1,"weight":79098.51149438144},{"src":30,"dest":1,"weight":15397.311342805964},{"src":1,"dest":30,"weight":0.0000649464038062221},{"src":1,"dest":33,"weight":0.0013889374494511699},{"src":33,"dest":1,"weight":719.9748270846494},{"src":4,"dest":5,"weight":181.74785968910592},{"src":5,"dest":4,"weight":0.005502128067480844},{"src":53,"dest":1,"weight":645.3260649842423},{"src":1,"dest":53,"weight":0.0015496042299553143},{"src":53,"dest":27,"weight":14.06589011563277},{"src":27,"dest":53,"weight":0.0710939721396376},{"src":54,"dest":1,"weight":55478.15831383628},{"src":1,"dest":54,"weight":0.000018025111690677727},{"src":54,"dest":2,"weight":2351.6926083045005},{"src":2,"dest":54,"weight":0.00042522564236019346},{"src":21,"dest":45,"weight":2054.909900061919},{"src":45,"dest":21,"weight":0.0004866393412041413},{"src":1,"dest":2,"weight":0.0427273699137022},{"src":2,"dest":1,"weight":23.404202084512367},{"src":1,"dest":55,"weight":1.4720016236999034e-12},{"src":55,"dest":1,"weight":679347076728.4083},{"src":1,"dest":55,"weight":1.3693375570515959e-12},{"src":55,"dest":1,"weight":730280123297.8383},{"src":24,"dest":25,"weight":70.7511146153603},{"src":25,"dest":24,"weight":0.014134052946536857},{"src":25,"dest":27,"weight":9.502936112846365},{"src":27,"dest":25,"weight":0.10523063484012787}];
  this.edges.forEach(e => e.weight = Math.log(e.weight));
  let N = this.N;
  let dist = Array(N).fill(100000000);;
  let parent = Array(N).fill(-1);;
  dist[src] = 1;
  for (let i = 1; i <= N - 1; i++) {
    for (let j = 0; j < this.edges.length; j++) {
      let u = this.edges[j].src;
      let v = this.edges[j].dest;
      let weight = this.edges[j].weight;
      if (dist[u] !== 100000000
        && dist[u] + weight < dist[v]) {
        dist[v] = dist[u] + weight;
        parent[v] = u;
      }
    }
  }
  let C = -1;
  for (let i = 0; i < this.edges.length; i++) {
    let u = this.edges[i].src;
    let v = this.edges[i].dest;
    let weight = this.edges[i].weight;
    if (dist[u] !== 100000000
      && dist[u] + weight < dist[v]) {
      C = v;
      break;
    }
  }
  if (C !== -1) {
    for (let i = 0; i < N; i++)
      C = parent[C];
    let cycle = [];
    for (let v = C;; v = parent[v]) {
      cycle.push(v);
      if (v === C && cycle.length > 1)
        break;
    }
    cycle.reverse();
    return cycle;
  }
  else
    return [];
}

module.exports = {
  Edge, Graph
}